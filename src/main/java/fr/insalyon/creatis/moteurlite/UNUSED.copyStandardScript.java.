package fr.insalyon.creatis.moteurlite;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.StandardCopyOption;

public class copyStandardScript {

    public static void copyStandardScript(String jobId, String outputPath) throws IOException {
        String name = jobId; // New name for the file
        String sourceFilePath = "script.sh"; // Path to your script.sh file
        String targetFolderPath = outputPath.endsWith(File.separator) ? outputPath : outputPath + File.separator + "sh";
    
        File sourceFile = new File(sourceFilePath);
        File targetFolder = new File(targetFolderPath);
    
        // Check if source file exists and target folder is a directory
        if (sourceFile.isFile() && targetFolder.isDirectory()) {
            // Create the target directory if it doesn't exist
            if (!targetFolder.exists()) {
                targetFolder.mkdirs();
            }
    
            // Resolve the target file path
            Path targetFilePath = targetFolder.toPath().resolve(name);
    
            // Copy the source file to the target file path
            Files.copy(sourceFile.toPath(), targetFilePath, StandardCopyOption.REPLACE_EXISTING);
            System.out.println("File copied successfully to: " + targetFilePath);
        } else {
            System.err.println("Source file does not exist or target folder is not a directory.");
        }
    }
}
    