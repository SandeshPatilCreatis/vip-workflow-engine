package fr.insalyon.creatis.moteurlite.JacksonParser;

import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.HashMap;
import java.util.Set;

import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;

import com.fasterxml.jackson.databind.ObjectMapper;

public class JacksonParser {
    public String executableNameJackson;
    public HashMap<Integer, String> inputIDList;
    public HashMap<Integer, String> outputIDList;
    public Set<String> crossMap;
    public Set<String> dotMap;
    public HashMap<String, String> inputTypeList;
    public HashMap<String, String> inputValueKey;
    public HashMap<String, String> outputPathTemplatelist;

    public JacksonParser(String jsonFileName) throws FileNotFoundException, IOException, ParseException {
        Object object = new JSONParser().parse(new FileReader(jsonFileName));
        String objeString = String.valueOf(object);

        ObjectMapper objectMapper = new ObjectMapper();
        BoutiquesEntities boutiquesEntities = objectMapper.readValue(objeString, BoutiquesEntities.class);
        this.executableNameJackson = boutiquesEntities.getName();
        this.inputIDList = boutiquesEntities.getInputId();
        this.outputIDList = boutiquesEntities.getOutputId();
        this.crossMap = boutiquesEntities.getCrossMap();
        this.dotMap = boutiquesEntities.getDotMap();
        this.inputTypeList = boutiquesEntities.getInputTypes();
        this.inputValueKey = boutiquesEntities.getInputValueKey();
        this.outputPathTemplatelist = boutiquesEntities.getOutputPathTemplateList();
    }
}


